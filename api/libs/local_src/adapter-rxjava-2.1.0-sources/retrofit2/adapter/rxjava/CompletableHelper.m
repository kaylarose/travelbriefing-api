//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: build/libs_raw/adapter-rxjava-2.1.0-sources/retrofit2/adapter/rxjava/CompletableHelper.java
//

#include "J2ObjC_source.h"
#include "java/lang/Void.h"
#include "java/lang/reflect/Type.h"
#include "retrofit2/Call.h"
#include "retrofit2/CallAdapter.h"
#include "retrofit2/Response.h"
#include "retrofit2/adapter/rxjava/CompletableHelper.h"
#include "retrofit2/adapter/rxjava/HttpException.h"
#include "rx/Completable.h"
#include "rx/Scheduler.h"
#include "rx/Subscription.h"
#include "rx/exceptions/Exceptions.h"
#include "rx/functions/Action0.h"
#include "rx/subscriptions/Subscriptions.h"

@interface Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe : NSObject < RxCompletable_CompletableOnSubscribe > {
 @public
  id<Retrofit2Call> originalCall_;
}

- (instancetype)initWithRetrofit2Call:(id<Retrofit2Call>)originalCall;

- (void)callWithId:(id<RxCompletable_CompletableSubscriber>)subscriber;

@end

J2OBJC_EMPTY_STATIC_INIT(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe)

J2OBJC_FIELD_SETTER(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe, originalCall_, id<Retrofit2Call>)

__attribute__((unused)) static void Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_initWithRetrofit2Call_(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe *self, id<Retrofit2Call> originalCall);

__attribute__((unused)) static Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe *new_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_initWithRetrofit2Call_(id<Retrofit2Call> originalCall) NS_RETURNS_RETAINED;

__attribute__((unused)) static Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe *create_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_initWithRetrofit2Call_(id<Retrofit2Call> originalCall);

J2OBJC_TYPE_LITERAL_HEADER(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe)

@interface Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1 : NSObject < RxFunctionsAction0 > {
 @public
  id<Retrofit2Call> val$call_;
}

- (void)call;

- (instancetype)initWithRetrofit2Call:(id<Retrofit2Call>)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1)

J2OBJC_FIELD_SETTER(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1, val$call_, id<Retrofit2Call>)

__attribute__((unused)) static void Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1_initWithRetrofit2Call_(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1 *self, id<Retrofit2Call> capture$0);

__attribute__((unused)) static Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1 *new_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1_initWithRetrofit2Call_(id<Retrofit2Call> capture$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1 *create_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1_initWithRetrofit2Call_(id<Retrofit2Call> capture$0);

J2OBJC_TYPE_LITERAL_HEADER(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1)

@interface Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter () {
 @public
  RxScheduler *scheduler_;
}

@end

J2OBJC_FIELD_SETTER(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter, scheduler_, RxScheduler *)

@implementation Retrofit2AdapterRxjavaCompletableHelper

+ (id<Retrofit2CallAdapter>)createCallAdapterWithRxScheduler:(RxScheduler *)scheduler {
  return Retrofit2AdapterRxjavaCompletableHelper_createCallAdapterWithRxScheduler_(scheduler);
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  Retrofit2AdapterRxjavaCompletableHelper_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "createCallAdapterWithRxScheduler:", "LRetrofit2CallAdapter;", 0x8, 0, 1, -1, 2, -1, -1 },
    { "init", NULL, 0x0, -1, -1, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "createCallAdapter", "LRxScheduler;", "(Lrx/Scheduler;)Lretrofit2/CallAdapter<Lrx/Completable;>;", "LRetrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe;LRetrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter;" };
  static const J2ObjcClassInfo _Retrofit2AdapterRxjavaCompletableHelper = { "CompletableHelper", "retrofit2.adapter.rxjava", ptrTable, methods, NULL, 7, 0x10, 2, 0, -1, 3, -1, -1, -1 };
  return &_Retrofit2AdapterRxjavaCompletableHelper;
}

@end

id<Retrofit2CallAdapter> Retrofit2AdapterRxjavaCompletableHelper_createCallAdapterWithRxScheduler_(RxScheduler *scheduler) {
  Retrofit2AdapterRxjavaCompletableHelper_initialize();
  return new_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter_initWithRxScheduler_(scheduler);
}

void Retrofit2AdapterRxjavaCompletableHelper_init(Retrofit2AdapterRxjavaCompletableHelper *self) {
  NSObject_init(self);
}

Retrofit2AdapterRxjavaCompletableHelper *new_Retrofit2AdapterRxjavaCompletableHelper_init() {
  J2OBJC_NEW_IMPL(Retrofit2AdapterRxjavaCompletableHelper, init)
}

Retrofit2AdapterRxjavaCompletableHelper *create_Retrofit2AdapterRxjavaCompletableHelper_init() {
  J2OBJC_CREATE_IMPL(Retrofit2AdapterRxjavaCompletableHelper, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(Retrofit2AdapterRxjavaCompletableHelper)

@implementation Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe

- (instancetype)initWithRetrofit2Call:(id<Retrofit2Call>)originalCall {
  Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_initWithRetrofit2Call_(self, originalCall);
  return self;
}

- (void)callWithId:(id<RxCompletable_CompletableSubscriber>)subscriber {
  id<Retrofit2Call> call = [((id<Retrofit2Call>) nil_chk(originalCall_)) clone];
  id<RxSubscription> subscription = RxSubscriptionsSubscriptions_createWithRxFunctionsAction0_(new_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1_initWithRetrofit2Call_(call));
  [((id<RxCompletable_CompletableSubscriber>) nil_chk(subscriber)) onSubscribeWithRxSubscription:subscription];
  @try {
    Retrofit2Response *response = [((id<Retrofit2Call>) nil_chk(call)) execute];
    if (![((id<RxSubscription>) nil_chk(subscription)) isUnsubscribed]) {
      if ([((Retrofit2Response *) nil_chk(response)) isSuccessful]) {
        [subscriber onCompleted];
      }
      else {
        [subscriber onErrorWithNSException:new_Retrofit2AdapterRxjavaHttpException_initWithRetrofit2Response_(response)];
      }
    }
  }
  @catch (NSException *t) {
    RxExceptionsExceptions_throwIfFatalWithNSException_(t);
    if (![((id<RxSubscription>) nil_chk(subscription)) isUnsubscribed]) {
      [subscriber onErrorWithNSException:t];
    }
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithRetrofit2Call:", NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { "callWithId:", "V", 0x1, 1, 2, -1, -1, -1, -1 },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "originalCall_", "LRetrofit2Call;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LRetrofit2Call;", "call", "LRxCompletable_CompletableSubscriber;", "LRetrofit2AdapterRxjavaCompletableHelper;" };
  static const J2ObjcClassInfo _Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe = { "CompletableCallOnSubscribe", "retrofit2.adapter.rxjava", ptrTable, methods, fields, 7, 0x1a, 2, 1, 3, -1, -1, -1, -1 };
  return &_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe;
}

@end

void Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_initWithRetrofit2Call_(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe *self, id<Retrofit2Call> originalCall) {
  NSObject_init(self);
  self->originalCall_ = originalCall;
}

Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe *new_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_initWithRetrofit2Call_(id<Retrofit2Call> originalCall) {
  J2OBJC_NEW_IMPL(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe, initWithRetrofit2Call_, originalCall)
}

Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe *create_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_initWithRetrofit2Call_(id<Retrofit2Call> originalCall) {
  J2OBJC_CREATE_IMPL(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe, initWithRetrofit2Call_, originalCall)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe)

@implementation Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1

- (void)call {
  [((id<Retrofit2Call>) nil_chk(val$call_)) cancel];
}

- (instancetype)initWithRetrofit2Call:(id<Retrofit2Call>)capture$0 {
  Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1_initWithRetrofit2Call_(self, capture$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "call", "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { "initWithRetrofit2Call:", NULL, 0x0, -1, 0, -1, -1, -1, -1 },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "val$call_", "LRetrofit2Call;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LRetrofit2Call;", "LRetrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe;", "callWithId:" };
  static const J2ObjcClassInfo _Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1 = { "", "retrofit2.adapter.rxjava", ptrTable, methods, fields, 7, 0x8008, 2, 1, 1, -1, 2, -1, -1 };
  return &_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1;
}

@end

void Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1_initWithRetrofit2Call_(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1 *self, id<Retrofit2Call> capture$0) {
  self->val$call_ = capture$0;
  NSObject_init(self);
}

Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1 *new_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1_initWithRetrofit2Call_(id<Retrofit2Call> capture$0) {
  J2OBJC_NEW_IMPL(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1, initWithRetrofit2Call_, capture$0)
}

Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1 *create_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1_initWithRetrofit2Call_(id<Retrofit2Call> capture$0) {
  J2OBJC_CREATE_IMPL(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1, initWithRetrofit2Call_, capture$0)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_$1)

@implementation Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter

- (instancetype)initWithRxScheduler:(RxScheduler *)scheduler {
  Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter_initWithRxScheduler_(self, scheduler);
  return self;
}

- (id<JavaLangReflectType>)responseType {
  return JavaLangVoid_class_();
}

- (RxCompletable *)adaptWithRetrofit2Call:(id<Retrofit2Call>)call {
  RxCompletable *completable = RxCompletable_createWithRxCompletable_CompletableOnSubscribe_(new_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallOnSubscribe_initWithRetrofit2Call_(call));
  if (scheduler_ != nil) {
    return [((RxCompletable *) nil_chk(completable)) subscribeOnWithRxScheduler:scheduler_];
  }
  return completable;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithRxScheduler:", NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { "responseType", "LJavaLangReflectType;", 0x1, -1, -1, -1, -1, -1, -1 },
    { "adaptWithRetrofit2Call:", "LRxCompletable;", 0x1, 1, 2, -1, 3, -1, -1 },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "scheduler_", "LRxScheduler;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LRxScheduler;", "adapt", "LRetrofit2Call;", "(Lretrofit2/Call;)Lrx/Completable;", "LRetrofit2AdapterRxjavaCompletableHelper;", "Ljava/lang/Object;Lretrofit2/CallAdapter<Lrx/Completable;>;" };
  static const J2ObjcClassInfo _Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter = { "CompletableCallAdapter", "retrofit2.adapter.rxjava", ptrTable, methods, fields, 7, 0x8, 3, 1, 4, -1, -1, 5, -1 };
  return &_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter;
}

@end

void Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter_initWithRxScheduler_(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter *self, RxScheduler *scheduler) {
  NSObject_init(self);
  self->scheduler_ = scheduler;
}

Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter *new_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter_initWithRxScheduler_(RxScheduler *scheduler) {
  J2OBJC_NEW_IMPL(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter, initWithRxScheduler_, scheduler)
}

Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter *create_Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter_initWithRxScheduler_(RxScheduler *scheduler) {
  J2OBJC_CREATE_IMPL(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter, initWithRxScheduler_, scheduler)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(Retrofit2AdapterRxjavaCompletableHelper_CompletableCallAdapter)
